# 🏥 医師シフト管理システム

効率的なシフト管理で、より良い医療体制を実現するWebアプリケーション

## ✨ 主な機能

### 📋 基本機能
- **年・月単位のシフト管理** - 柔軟な期間設定
- **医師の登録・編集・削除** - 簡単な医師情報管理
- **シフトカレンダー表示** - 視覚的にわかりやすい表示
- **自動シフト割り当て** - AIによる最適な配置
- **CSVエクスポート** - データの外部出力

### 🎯 シフト設定
- **平日**: 当直(夜勤)のみ 1コマ
- **土日祝日**: 日直(日勤) + 当直(夜勤) 2コマ
- **個人別NG曜日設定** - 年間通して設定可能
- **月別NGリクエスト** - 月単位での柔軟な調整
- **年間コマ数管理** - 目標と実績の可視化

### 📊 新機能
- **統計表示** - 全医師のシフト実績を一覧表示
- **医師の複製** - 既存の医師情報をコピーして新規登録
- **CSVインポート** - Google Formからのデータ一括取り込み

## 🚀 使い方

### 1. 初期設定
1. アプリを開く
2. 対象年を選択
3. 「設定を開始」をクリック

### 2. 医師の登録

#### 手動登録
1. 「➕ 医師を追加」ボタンをクリック
2. 以下の情報を入力:
   - 名前
   - 所属診療科
   - 年間日直コマ数
   - 年間当直コマ数
   - 年間NGの曜日
3. 「保存」をクリック

#### CSVインポート(Google Form連携)
1. **Google Formの作成**
   - 以下の質問を作成:
     1. 名前 (記述式)
     2. 所属診療科 (記述式)
     3. 年間日直コマ数 (記述式 - 数値)
     4. 年間当直コマ数 (記述式 - 数値)
     5. NGの曜日 (チェックボックス - 日,月,火,水,木,金,土)

2. **回答の収集**
   - Google Formを医師に共有
   - 回答を収集

3. **CSVエクスポート**
   - Google Formの「回答」タブを開く
   - 「スプレッドシートで表示」をクリック
   - スプレッドシートで「ファイル」→「ダウンロード」→「カンマ区切り形式(.csv)」を選択

4. **インポート**
   - アプリで「📥 CSVインポート」ボタンをクリック
   - 「ファイルを選択」をクリック
   - ダウンロードしたCSVファイルを選択
   - プレビューを確認
   - 「✅ ○人をインポート」をクリック

### 3. シフトの管理

#### 手動割り当て
1. カレンダー上の「BLANK」をクリック
2. 割り当てる医師を選択
3. 「保存」をクリック

#### 自動割り当て
1. 「🎯 自動割り当て」ボタンをクリック
2. 確認メッセージで「OK」をクリック
3. システムが最適なシフトを自動生成

### 4. 月別リクエスト
1. 医師リストで「📅 リクエスト」ボタンをクリック
2. NGの日付を選択
3. 「保存」をクリック

### 5. 統計の確認
1. 「📊 統計を表示」ボタンをクリック
2. 各医師のシフト実績と進捗を確認
3. プログレスバーで達成率を視覚的に把握

### 6. データのエクスポート
1. 「📥 エクスポート」ボタンをクリック
2. CSVファイルがダウンロードされます

## 📱 スマートフォン対応

このアプリは完全レスポンシブデザインで、スマートフォンでも快適に使用できます。

### スマホでアクセスする方法

#### 方法1: 同じネットワーク内でアクセス
1. PCとスマホを同じWi-Fiに接続
2. PCのIPアドレスを確認
3. スマホのブラウザで `http://[PCのIPアドレス]:5173/` にアクセス

#### 方法2: ホストモードで起動
```bash
npm run dev -- --host
```
表示されたNetwork URLにスマホからアクセス

## 🎨 デザインの特徴

- **薄青色ベース** - 医療現場に適した落ち着いた色調
- **モダンなUI** - グラデーション、シャドウ、アニメーション
- **直感的な操作** - わかりやすいアイコンとボタン
- **視覚的フィードバック** - ホバーエフェクト、プログレスバー

## 💾 データの保存

すべてのデータはブラウザのLocalStorageに保存されます。
- ページを更新してもデータは保持されます
- ブラウザのキャッシュをクリアするとデータが消えます
- 定期的にCSVエクスポートでバックアップを取ることをお勧めします

## 🛠️ 技術スタック

- **Vite** - 高速なビルドツール
- **Vanilla JavaScript** - フレームワークレス
- **CSS3** - モダンなスタイリング
- **LocalStorage** - データ永続化

## 📝 サンプルデータ

`sample_doctors.csv` ファイルにサンプルデータが含まれています。
CSVインポート機能のテストにご利用ください。

## 🔧 開発

### インストール
```bash
npm install
```

### 開発サーバー起動
```bash
npm run dev
```

### ビルド
```bash
npm run build
```

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 サポート

問題が発生した場合は、以下を確認してください:
1. ブラウザのコンソールでエラーを確認
2. LocalStorageが有効になっているか確認
3. 最新のブラウザを使用しているか確認

---

Made with ❤️ for better healthcare management
